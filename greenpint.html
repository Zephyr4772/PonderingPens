<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Custom Image Gallery with Buttons</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #1a1a1a;
            font-family: 'Segoe UI', sans-serif;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-auto-rows: minmax(100px, 100px);
            gap: 15px;
            padding: 30px 5%;
            grid-auto-flow: dense;
        }

        .grid-item {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: #2a2a2a;
        }

        .grid-item:hover {
            transform: scale(1.02);
            box-shadow: 0 12px 20px rgba(0,0,0,0.3);
            border: 3px solid white;
        }

        .grid-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .hover-content {
            display: none;
        }

        .grid-item:hover .hover-content {
            opacity: 1;
        }

        .grid-item button {
            position: absolute;
            width: 100%;
            height: 100%;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
        }

        @media (max-width: 1200px) {
            .grid-container {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 768px) {
            .grid-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="grid-container"></div>

    <script>
        const gridContainer = document.querySelector('.grid-container');
        let imageCount = 1;
        const aspectRatios = [0.7, 0.8, 0.9, 1.0, 1.1, 1.2];
        const colorThemes = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffeead', '#ff9f68'];

        // Regular images
        const customImages = [
                'g (1).jpeg',
                'g (2).jpeg',
                'g (3).jpeg',
                'g (4).jpeg',
                'g (5).jpeg',
                'g (6).jpeg',
                'g (7).jpeg',
                'g (8).jpeg',
                'g (9).jpeg',
                'g (10).jpeg',
                'g (11).jpeg',
                'g (12).jpeg',
                'g (13).jpeg',
                'g (14).jpeg',
                'g (15).jpeg',
                'g (16).jpeg',
                'g (17).jpeg',
                'g (18).jpeg',
                'g (19).jpeg',
                'g (20).jpeg',
                'g (21).jpeg',
                'g (22).jpeg',
                'g (23).jpeg',
                'g (24).jpeg',
                'g (25).jpeg',
                'g (26).jpeg',
                'g (27).jpeg',
                'g (28).jpeg',
                'g (29).jpeg',
                'g (30).jpeg',
                'g (31).jpeg',
                'g (32).jpeg',
                'g (33).jpeg',
                'g (34).jpeg',
                'g (35).jpeg',
                'g (36).jpeg',
                'g (37).jpeg',
                'g (38).jpeg',
                'g (39).jpeg',
                'g (40).jpeg',
                'g (41).jpeg',
                'g (42).jpeg',
                'g (43).jpeg',
                'g (44).jpeg',
                'g (45).jpeg',
                'g (46).jpeg',
                'g (47).jpeg',
                'g (48).jpeg',
                'g (49).jpeg',
                'g (50).jpeg',
                'g (51).jpeg',
                'g (52).jpeg',
                'g (53).jpeg',
                'g (54).jpeg',
                'g (55).jpeg',
                'g (56).jpeg',
                'g (57).jpeg',
                'g (58).jpeg',
                'g (59).jpeg',
                'g (60).jpeg',
                'g (61).jpeg',
                'g (62).jpeg',
                'g (63).jpeg',
                'g (64).jpeg',
                'g (65).jpeg',
                'g (66).jpeg',
                'g (67).jpeg',
                'g (68).jpeg',
                'g (69).jpeg',
                'g (70).jpeg',
                'g (71).jpeg',
                'g (72).jpeg',
                'g (73).jpeg',
                'g (74).jpeg',
                'g (75).jpeg',
                'g (76).jpeg',
                'g (77).jpeg',
                'g (78).jpeg',
                'g (79).jpeg',
                'g (80).jpeg',
                'g (81).jpeg',
                'g (82).jpeg',
                'g (83).jpeg',
                'g (84).jpeg',
                'g (85).jpeg',
                'g (86).jpeg',
                'g (87).jpeg',
                'g (88).jpeg',
                'g (89).jpeg',
                'g (90).jpeg',
                'g (91).jpeg',
                'g (92).jpeg',
                'g (93).jpeg',
                'g (94).jpeg',
                'g (95).jpeg',
                'g (96).jpeg',
                'g (97).jpeg',
                'g (98).jpeg',
                'g (99).jpeg',
                'g (100).jpeg',
                'g (101).jpeg',
                'g (102).jpeg'
        ];

        // Button images 
        const allButtonImages = 
        [
            'images/buttons-g/1.png',
            'images/buttons-g/2.png',
            'images/buttons-g/3.png',
            'images/buttons-g/4.png',
            'images/buttons-g/5.png',
            'images/buttons-g/6.png',
            'images/buttons-g/7.png',
            'images/buttons-g/8.png',
            'images/buttons-g/9.png',
            'images/buttons-g/10.png',
            'images/buttons-g/11.png',
            'images/buttons-g/12.png',
            'images/buttons-g/13.png',
            'images/buttons-g/14.png',
            'images/buttons-g/15.png',
            'images/buttons-g/16.png',
            'images/buttons-g/17.png',
            'images/buttons-g/18.png',
            'images/buttons-g/19.png',
            'images/buttons-g/20.png',
            'images/buttons-g/21.png',
            'images/buttons-g/22.png',
            'images/buttons-g/23.png',
            'images/buttons-g/24.png',
            'images/buttons-g/25.png',
            'images/buttons-g/26.png',
            'images/buttons-g/27.png',
            'images/buttons-g/28.png',
        ];

        // Custom links for each button image
        const buttonLinks = [
            'poemgreen.html?poem=poem1','poemgreen.html?poem=poem2','poemgreen.html?poem=poem3','poemgreen.html?poem=poem4',
            'poemgreen.html?poem=poem5','poemgreen.html?poem=poem6','poemgreen.html?poem=poem7','poemgreen.html?poem=poem8',
            'poemgreen.html?poem=poem9','poemgreen.html?poem=poem10','poemgreen.html?poem=poem11','poemgreen.html?poem=poem12',
            'poemgreen.html?poem=poem13','poemgreen.html?poem=poem14','poemgreen.html?poem=poem15','poemgreen.html?poem=poem16',
            'poemgreen.html?poem=poem17','poemgreen.html?poem=poem18','poemgreen.html?poem=poem19','poemgreen.html?poem=poem20',
            'poemgreen.html?poem=poem21','poemgreen.html?poem=poem22','poemgreen.html?poem=poem23','poemgreen.html?poem=poem24',
            'poemgreen.html?poem=poem25','poemgreen.html?poem=poem26','poemgreen.html?poem=poem27','poemgreen.html?poem=poem28'
        ];

        let buttonIndex = 0;

        function createHoverContent() {
            const hoverDiv = document.createElement('div');
            hoverDiv.className = 'hover-content';
            hoverDiv.innerHTML = `
                <h3 style="margin-bottom: 8px;">Image ${imageCount}</h3>
                <p>${['Beautiful Memory', 'Special Moment', 'Creative Work'][Math.floor(Math.random()*3)]}</p>
            `;
            return hoverDiv;
        }

        function createGridItem(isButton = false, buttonImage = '', buttonLink = '') {
            const item = document.createElement('div');
            item.className = 'grid-item';

            const colSpan = Math.random() > 0.7 ? 2 : 1;
            const rowSpan = Math.ceil(Math.random() * 2) + 1;
            const aspectRatio = aspectRatios[Math.floor(Math.random() * aspectRatios.length)];

            item.style.gridColumnEnd = `span ${colSpan}`;
            item.style.gridRowEnd = `span ${rowSpan}`;
            item.style.backgroundColor = colorThemes[Math.floor(Math.random() * colorThemes.length)];

            if (isButton) {
                const link = document.createElement('a');
                link.href = buttonLink;
                link.target = '_blank';
                link.rel = 'noopener noreferrer';
                link.style.display = 'block';
                link.style.width = '100%';
                link.style.height = '100%';

                const img = document.createElement('img');
                img.src = buttonImage;
                img.alt = 'Button Image';
                img.style.width = '100%';
                img.style.height = '100%';
                img.style.objectFit = 'cover';

                link.appendChild(img);
                item.appendChild(link);
            } else {
                const img = document.createElement('img');
                const randomImage = customImages[Math.floor(Math.random() * customImages.length)];
                img.src = `images/green/${randomImage}`;
                img.alt = 'Gallery Image';
                item.appendChild(img);
            }

            item.appendChild(createHoverContent());
            return item;
        }

        function addImages(count) {
            const fragment = document.createDocumentFragment();
            const positions = Array.from({length: count}, (_, i) => i);

            //  array for random positioning
            for (let i = positions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [positions[i], positions[j]] = [positions[j], positions[i]];
            }

            positions.forEach(() => {
                if (imageCount % 100 === 0) {
                    fragment.appendChild(createGridItem(true, 'images/rainbow/rainbow.jpg', 'colors.html'));
                } 
                else {
                    fragment.appendChild(createGridItem());
         }
            imageCount++;
            });

            gridContainer.appendChild(fragment);
        }

        function addButtons() {
            if (allButtonImages.length === 0) return;

            const fragment = document.createDocumentFragment();
            for (let i = 0; i < 3; i++) {
                const currentImage = allButtonImages[buttonIndex];
                const currentLink = buttonLinks[buttonIndex];
                fragment.appendChild(createGridItem(true, currentImage, currentLink));
                buttonIndex = (buttonIndex + 1) % allButtonImages.length;
            }
            gridContainer.appendChild(fragment);
        }

        let throttleTimeout;
        window.addEventListener('scroll', () => {
            if (!throttleTimeout) {
                throttleTimeout = setTimeout(() => {
                    if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 800) {
                        addImages(12);
                        addButtons();
                    }
                    throttleTimeout = null;
                }, 200);
            }
        });

     
        addImages(50);
        addButtons(2);
    </script>
</body>
</html>

